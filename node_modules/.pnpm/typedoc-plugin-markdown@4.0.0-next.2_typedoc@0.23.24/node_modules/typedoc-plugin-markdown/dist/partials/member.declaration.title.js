"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.declarationMemberTitle = void 0;
const typedoc_1 = require("typedoc");
const els_1 = require("../support/els");
const utils_1 = require("../support/utils");
function declarationMemberTitle(context, reflection) {
    var _a, _b, _c;
    const md = [];
    if (((_a = reflection.flags) === null || _a === void 0 ? void 0 : _a.length) &&
        !reflection.flags.isOptional &&
        !reflection.flags.isRest) {
        md.push(reflection.flags.map((flag) => flag.toLowerCase()).join(' ') + ' ');
    }
    if (reflection.flags.isRest) {
        md.push('... ');
    }
    md.push(reflection.name);
    if (reflection.flags.isOptional) {
        md.push('?');
    }
    if (reflection instanceof typedoc_1.DeclarationReflection &&
        reflection.typeParameters) {
        md.push(`\\<${(_b = reflection.typeParameters) === null || _b === void 0 ? void 0 : _b.map((typeParameter) => (0, els_1.backTicks)(typeParameter.name)).join(', ')}\\>`);
    }
    if (reflection.type) {
        md.push(`${((_c = reflection.parent) === null || _c === void 0 ? void 0 : _c.kindOf(typedoc_1.ReflectionKind.Enum)) ? ' = ' : ': '}${context.partials.someType(reflection.type, 'all')}`);
    }
    if (!(reflection.type instanceof typedoc_1.LiteralType) &&
        reflection.defaultValue &&
        reflection.defaultValue !== '...') {
        md.push(` = \`${(0, utils_1.stripLineBreaks)((0, utils_1.stripComments)(reflection.defaultValue))}\``);
    }
    return md.join('');
}
exports.declarationMemberTitle = declarationMemberTitle;
